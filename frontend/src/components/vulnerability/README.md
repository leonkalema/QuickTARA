# Vulnerability Management Frontend Components

This directory contains all the frontend components for vulnerability management in QuickTARA.

## Components Overview

### 1. VulnerabilityManager.svelte
The main component that orchestrates all vulnerability management functionality:
- Lists all vulnerabilities with filtering by severity
- Provides create, read, update, delete (CRUD) operations
- Integrates vulnerability assessment functionality
- Handles navigation between different vulnerability views

### 2. VulnerabilityForm.svelte
Form component for creating and editing vulnerabilities:
- Basic information input (name, description, severity)
- CVSS metrics calculation and input
- Affected components selection
- Automatic CVSS vector calculation based on metrics
- Form validation and submission handling

### 3. VulnerabilityDetails.svelte
Read-only view of a vulnerability's complete details:
- Displays all vulnerability attributes
- Shows CVSS metrics and scores
- Lists affected components
- Provides edit navigation functionality
- Shows creation and update timestamps

### 4. VulnerabilityAssessment.svelte
Component for running vulnerability assessments:
- Allows selection of components to assess
- Displays assessment results
- Shows vulnerabilities found per component
- Highlights high-severity vulnerabilities

## API Integration

The components use the vulnerability API client from `../../api/vulnerability.ts` which provides:

```typescript
// Get vulnerabilities with filtering
getVulnerabilities(skip?, limit?, componentId?, severity?)

// Get a specific vulnerability
getVulnerability(vulnerabilityId)

// Create a new vulnerability
createVulnerability(vulnerability)

// Update an existing vulnerability
updateVulnerability(vulnerabilityId, vulnerabilityUpdate)

// Delete a vulnerability
deleteVulnerability(vulnerabilityId)

// Perform vulnerability assessment
performVulnerabilityAssessment(componentIds)
```

## Data Flows

1. **List View Flow**:
   - VulnerabilityManager fetches vulnerabilities from API
   - Displays in table with severity filtering
   - Handles navigation to create, view, edit, and assess functions

2. **Create/Edit Flow**:
   - VulnerabilityForm loads with empty/populated data
   - User inputs vulnerability details
   - Form calculates CVSS metrics
   - Submits to API and returns to list view

3. **Assessment Flow**:
   - User selects components to assess
   - API performs vulnerability scanning
   - Results displayed with affected components
   - New vulnerabilities added to database

## Usage

The vulnerability management system is accessible via the "Vulnerabilities" tab in the main navigation bar.

### Key Features:
1. Complete CRUD operations for vulnerabilities
2. CVSS score calculation
3. Component vulnerability assessment
4. Severity-based filtering
5. Detailed vulnerability views

## Dependencies

- Svelte framework
- Tailwind CSS for styling
- API client from `../../api/vulnerability.ts`
- UI components from `../ui/` (Modal, Spinner, etc.)
- Notification system from `../../stores/notification`

## Error Handling

All components include proper error handling:
- API error display
- Form validation errors
- Loading states
- Empty state handling
- User feedback via notifications

## Future Enhancements

1. Bulk operations (multi-select for assessment)
2. Advanced filtering options
3. Export functionality
4. Vulnerability charting/visualization
5. Integration with threat analysis
