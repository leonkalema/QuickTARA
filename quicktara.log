2025-04-24 13:12:21,168 - __main__ - INFO - Initializing database...
2025-04-24 13:12:21,191 - __main__ - INFO - Creating FastAPI application...
2025-04-24 13:12:21,205 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-24 23:49:28,234 - __main__ - INFO - Initializing database...
2025-04-24 23:49:28,236 - db.session - INFO - Running database migrations...
2025-04-24 23:49:29,345 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> e1c8d1ad3c7b, Initial database schema
Traceback (most recent call last):
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table component_connections already exists

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 95, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 89, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 623, in run_migrations
    step.migration_fn(**kw)
  File "/Users/leon/Dev/quicktara/db/migrations/versions/e1c8d1ad3c7b_initial_database_schema.py", line 22, in upgrade
    op.create_table('component_connections',
  File "<string>", line 8, in create_table
  File "<string>", line 3, in create_table
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/operations/ops.py", line 1317, in create_table
    return operations.invoke(op)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/operations/base.py", line 441, in invoke
    return fn(self, operation)
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/operations/toimpl.py", line 130, in create_table
    operations.impl.create_table(table, **kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/ddl/impl.py", line 405, in create_table
    self._exec(schema.CreateTable(table, **kw))
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/ddl/impl.py", line 246, in _exec
    return conn.execute(construct, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1527, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table component_connections already exists
[SQL: 
CREATE TABLE component_connections (
	component_id VARCHAR NOT NULL, 
	connected_to_id VARCHAR NOT NULL, 
	PRIMARY KEY (component_id, connected_to_id), 
	FOREIGN KEY(component_id) REFERENCES components (component_id), 
	FOREIGN KEY(connected_to_id) REFERENCES components (component_id)
)

]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

Falling back to direct table creation
2025-04-24 23:49:29,345 - db.session - INFO - Creating database tables directly...
2025-04-24 23:49:29,359 - db.session - INFO - Database tables created successfully
2025-04-24 23:49:29,360 - __main__ - INFO - Creating FastAPI application...
2025-04-24 23:50:21,938 - __main__ - INFO - Initializing database...
2025-04-24 23:50:21,939 - db.session - INFO - Running database migrations...
2025-04-24 23:50:22,698 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> e1c8d1ad3c7b, Initial database schema
Traceback (most recent call last):
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: table component_connections already exists

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 95, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 89, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 623, in run_migrations
    step.migration_fn(**kw)
  File "/Users/leon/Dev/quicktara/db/migrations/versions/e1c8d1ad3c7b_initial_database_schema.py", line 22, in upgrade
    op.create_table('component_connections',
  File "<string>", line 8, in create_table
  File "<string>", line 3, in create_table
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/operations/ops.py", line 1317, in create_table
    return operations.invoke(op)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/operations/base.py", line 441, in invoke
    return fn(self, operation)
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/operations/toimpl.py", line 130, in create_table
    operations.impl.create_table(table, **kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/ddl/impl.py", line 405, in create_table
    self._exec(schema.CreateTable(table, **kw))
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/ddl/impl.py", line 246, in _exec
    return conn.execute(construct, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1527, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) table component_connections already exists
[SQL: 
CREATE TABLE component_connections (
	component_id VARCHAR NOT NULL, 
	connected_to_id VARCHAR NOT NULL, 
	PRIMARY KEY (component_id, connected_to_id), 
	FOREIGN KEY(component_id) REFERENCES components (component_id), 
	FOREIGN KEY(connected_to_id) REFERENCES components (component_id)
)

]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

Falling back to direct table creation
2025-04-24 23:50:22,698 - db.session - INFO - Creating database tables directly...
2025-04-24 23:50:22,702 - db.session - INFO - Database tables created successfully
2025-04-24 23:50:22,702 - __main__ - INFO - Creating FastAPI application...
2025-04-24 23:50:22,727 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-24 23:57:04,716 - __main__ - INFO - Initializing database...
2025-04-24 23:57:04,717 - db.session - INFO - Running database migrations...
2025-04-24 23:57:05,269 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-24 23:57:05,270 - db.session - INFO - Creating database tables directly...
2025-04-24 23:57:05,274 - db.session - INFO - Database tables created successfully
2025-04-24 23:57:05,274 - __main__ - INFO - Creating FastAPI application...
2025-04-24 23:57:05,298 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 00:01:08,833 - __main__ - INFO - Initializing database...
2025-04-25 00:01:08,834 - db.session - INFO - Running database migrations...
2025-04-25 00:01:09,396 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 00:01:09,396 - db.session - INFO - Creating database tables directly...
2025-04-25 00:01:09,400 - db.session - INFO - Database tables created successfully
2025-04-25 00:01:09,400 - __main__ - INFO - Creating FastAPI application...
2025-04-25 00:01:09,425 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 01:15:22,409 - __main__ - INFO - Initializing database...
2025-04-25 01:15:22,410 - db.session - INFO - Running database migrations...
2025-04-25 01:15:23,063 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 01:15:23,064 - db.session - INFO - Creating database tables directly...
2025-04-25 01:15:23,068 - db.session - INFO - Database tables created successfully
2025-04-25 01:15:23,068 - __main__ - INFO - Creating FastAPI application...
2025-04-25 01:15:23,091 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 01:20:02,657 - __main__ - INFO - Initializing database...
2025-04-25 01:20:02,658 - db.session - INFO - Running database migrations...
2025-04-25 01:20:03,294 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 01:20:03,295 - db.session - INFO - Creating database tables directly...
2025-04-25 01:20:03,298 - db.session - INFO - Database tables created successfully
2025-04-25 01:20:03,299 - __main__ - INFO - Creating FastAPI application...
2025-04-25 01:20:03,322 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 09:26:17,814 - __main__ - INFO - Initializing database...
2025-04-25 09:26:17,815 - db.session - INFO - Running database migrations...
2025-04-25 09:26:18,554 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 09:26:18,554 - db.session - INFO - Creating database tables directly...
2025-04-25 09:26:18,558 - db.session - INFO - Database tables created successfully
2025-04-25 09:26:18,558 - __main__ - INFO - Creating FastAPI application...
2025-04-25 09:26:18,583 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 10:15:00,991 - __main__ - INFO - Initializing database...
2025-04-25 10:15:00,992 - db.session - INFO - Running database migrations...
2025-04-25 10:15:01,674 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 10:15:01,674 - db.session - INFO - Creating database tables directly...
2025-04-25 10:15:01,678 - db.session - INFO - Database tables created successfully
2025-04-25 10:15:01,678 - __main__ - INFO - Creating FastAPI application...
2025-04-25 10:15:01,702 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 10:24:51,888 - __main__ - INFO - Initializing database...
2025-04-25 10:24:51,889 - db.session - INFO - Running database migrations...
2025-04-25 10:24:52,672 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 10:24:52,672 - db.session - INFO - Creating database tables directly...
2025-04-25 10:24:52,677 - db.session - INFO - Database tables created successfully
2025-04-25 10:24:52,677 - __main__ - INFO - Creating FastAPI application...
2025-04-25 10:24:52,702 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 14:40:04,636 - __main__ - INFO - Initializing database...
2025-04-25 14:40:04,636 - db.session - INFO - Running database migrations...
2025-04-25 14:40:05,407 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 14:40:05,407 - db.session - INFO - Creating database tables directly...
2025-04-25 14:40:05,418 - db.session - INFO - Database tables created successfully
2025-04-25 14:40:05,419 - __main__ - INFO - Creating FastAPI application...
2025-04-25 14:40:05,449 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-25 16:32:35,995 - __main__ - INFO - Initializing database...
2025-04-25 16:32:35,996 - db.session - INFO - Running database migrations...
2025-04-25 16:32:36,659 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
ERROR [alembic.util.messaging] Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads

Falling back to direct table creation
2025-04-25 16:32:36,660 - db.session - INFO - Creating database tables directly...
2025-04-25 16:32:36,664 - db.session - INFO - Database tables created successfully
2025-04-25 16:32:36,664 - __main__ - INFO - Creating FastAPI application...
2025-04-25 16:32:36,693 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-26 01:25:26,864 - __main__ - INFO - Initializing database...
2025-04-26 01:25:26,865 - db.session - INFO - Running database migrations...
2025-04-26 01:25:27,593 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision f2d9b1c5e4a3_add_review_decisions_table referenced from f2d9b1c5e4a3_add_review_decisions_table -> add_scope_id_column (head), add scope_id to components is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 103, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 97, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: 'f2d9b1c5e4a3_add_review_decisions_table'

Falling back to direct table creation
2025-04-26 01:25:27,593 - db.session - INFO - Creating database tables directly...
2025-04-26 01:25:27,597 - db.session - INFO - Database tables created successfully
2025-04-26 01:25:27,597 - __main__ - INFO - Creating FastAPI application...
2025-04-26 01:25:27,627 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-26 03:46:50,863 - __main__ - INFO - Initializing database...
2025-04-26 03:46:50,864 - db.session - INFO - Running database migrations...
2025-04-26 03:46:51,583 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision add_scope_id_to_components referenced from add_scope_id_to_components -> b1e9c3d7a2f5 (head), Add risk framework table for risk calculation framework is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 103, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 97, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: 'add_scope_id_to_components'

Falling back to direct table creation
2025-04-26 03:46:51,583 - db.session - INFO - Creating database tables directly...
2025-04-26 03:46:51,599 - db.session - INFO - Database tables created successfully
2025-04-26 03:46:51,599 - __main__ - INFO - Creating FastAPI application...
2025-04-26 03:46:51,639 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-26 11:35:44,031 - __main__ - INFO - Initializing database...
2025-04-26 11:35:44,032 - db.session - INFO - Running database migrations...
2025-04-26 11:35:44,818 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-04-26 11:35:44,818 - db.session - INFO - Creating database tables directly...
2025-04-26 11:35:44,823 - db.session - INFO - Database tables created successfully
2025-04-26 11:35:44,823 - __main__ - INFO - Creating FastAPI application...
2025-04-26 11:35:44,870 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-27 00:30:50,864 - __main__ - INFO - Initializing database...
2025-04-27 00:30:50,865 - db.session - INFO - Running database migrations...
2025-04-27 00:30:51,607 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-04-27 00:30:51,608 - db.session - INFO - Creating database tables directly...
2025-04-27 00:30:51,613 - db.session - INFO - Database tables created successfully
2025-04-27 00:30:51,613 - __main__ - INFO - Creating FastAPI application...
2025-04-27 00:30:51,720 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-04-28 12:08:33,359 - __main__ - INFO - Initializing database...
2025-04-28 12:08:33,360 - db.session - INFO - Running database migrations...
2025-04-28 12:08:34,121 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-04-28 12:08:34,121 - db.session - INFO - Creating database tables directly...
2025-04-28 12:08:34,127 - db.session - INFO - Database tables created successfully
2025-04-28 12:08:34,127 - __main__ - INFO - Creating FastAPI application...
2025-04-28 12:08:34,237 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=True)...
2025-05-01 15:11:46,064 - __main__ - INFO - Initializing database...
2025-05-01 15:11:46,065 - db.session - INFO - Running database migrations...
2025-05-01 15:11:46,796 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-05-01 15:11:46,796 - db.session - INFO - Creating database tables directly...
2025-05-01 15:11:46,802 - db.session - INFO - Database tables created successfully
2025-05-01 15:11:46,802 - __main__ - INFO - Creating FastAPI application...
2025-05-01 15:11:46,911 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=False)...
2025-05-01 15:15:53,788 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-01 15:15:53,793 - api.services.attack_path_service - INFO - Analysis context: 3 assumptions, 3 constraints, 4 threat scenarios, 4 vulnerabilities
2025-05-01 17:05:16,801 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:05:16,812 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:11:37,368 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-01 17:11:37,369 - api.services.attack_path_service - INFO - Analysis context: 3 assumptions, 3 constraints, 5 threat scenarios, 4 vulnerabilities
2025-05-01 17:11:44,532 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:11:44,537 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:36:59,383 - api.services.attack_path_service - INFO - Generating attack paths for 3 components, primary component: ECU001
2025-05-01 17:37:20,106 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 17:37:20,107 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 17:37:50,115 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:37:50,126 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:40:42,430 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-01 17:40:42,431 - api.services.attack_path_service - INFO - Analysis context: 3 assumptions, 3 constraints, 5 threat scenarios, 4 vulnerabilities
2025-05-01 17:46:41,785 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:46:41,803 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 17:49:59,172 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-01 17:49:59,173 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 1 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 18:04:26,310 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-01 18:04:26,325 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 1 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 19:07:38,537 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 19:07:38,538 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 19:10:02,558 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 19:10:02,559 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 19:22:59,144 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 19:22:59,158 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 19:39:22,180 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 19:39:22,197 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 20:32:20,130 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 20:32:20,131 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 20:35:21,680 - __main__ - INFO - Initializing database...
2025-05-01 20:35:21,680 - db.session - INFO - Running database migrations...
2025-05-01 20:35:22,452 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-05-01 20:35:22,453 - db.session - INFO - Creating database tables directly...
2025-05-01 20:35:22,459 - db.session - INFO - Database tables created successfully
2025-05-01 20:35:22,459 - __main__ - INFO - Creating FastAPI application...
2025-05-01 20:35:22,574 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=False)...
2025-05-01 20:37:21,847 - __main__ - INFO - Initializing database...
2025-05-01 20:37:21,847 - db.session - INFO - Running database migrations...
2025-05-01 20:37:22,586 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-05-01 20:37:22,586 - db.session - INFO - Creating database tables directly...
2025-05-01 20:37:22,592 - db.session - INFO - Database tables created successfully
2025-05-01 20:37:22,592 - __main__ - INFO - Creating FastAPI application...
2025-05-01 20:37:22,703 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=False)...
2025-05-01 20:39:46,973 - __main__ - INFO - Initializing database...
2025-05-01 20:39:46,974 - db.session - INFO - Running database migrations...
2025-05-01 20:39:47,628 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-05-01 20:39:47,628 - db.session - INFO - Creating database tables directly...
2025-05-01 20:39:47,634 - db.session - INFO - Database tables created successfully
2025-05-01 20:39:47,634 - __main__ - INFO - Creating FastAPI application...
2025-05-01 20:39:47,742 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=False)...
2025-05-01 23:37:04,970 - __main__ - INFO - Initializing database...
2025-05-01 23:37:04,971 - db.session - INFO - Running database migrations...
2025-05-01 23:37:05,739 - db.session - WARNING - Failed to run migrations: INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py:241: UserWarning: Revision 002 referenced from 002 -> 003 (head), Add vulnerability tables is not present
  util.warn(
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/__main__.py", line 4, in <module>
    main(prog="alembic")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 636, in main
    CommandLine(prog=prog).main(argv=argv)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 626, in main
    self.run_cmd(cfg, options)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/config.py", line 603, in run_cmd
    fn(
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 408, in upgrade
    script.run_env()
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 586, in run_env
    util.load_python_file(self.dir, "env.py")
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 95, in load_python_file
    module = load_module_py(module_id, path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/util/pyfiles.py", line 113, in load_module_py
    spec.loader.exec_module(module)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 104, in <module>
    run_migrations_online()
  File "/Users/leon/Dev/quicktara/db/migrations/env.py", line 98, in run_migrations_online
    context.run_migrations()
  File "<string>", line 8, in run_migrations
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/environment.py", line 946, in run_migrations
    self.get_context().run_migrations(**kw)
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/runtime/migration.py", line 611, in run_migrations
    for step in self._migrations_fn(heads, self):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/command.py", line 397, in upgrade
    return script._upgrade_revs(revision, rev)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/base.py", line 462, in _upgrade_revs
    for script in reversed(list(revs))
                           ^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 814, in iterate_revisions
    revisions, heads = fn(
                       ^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1447, in _collect_upgrade_revisions
    for rev in self._parse_upgrade_target(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 1234, in _parse_upgrade_target
    return self.get_revisions(target)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 544, in get_revisions
    resolved_id, branch_label = self._resolve_revision_number(id_)
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 768, in _resolve_revision_number
    self._revision_map
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1145, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/Users/leon/Dev/quicktara/.venv/lib/python3.11/site-packages/alembic/script/revision.py", line 245, in _revision_map
    down_revision = map_[downrev]
                    ~~~~^^^^^^^^^
KeyError: '002'

Falling back to direct table creation
2025-05-01 23:37:05,740 - db.session - INFO - Creating database tables directly...
2025-05-01 23:37:05,746 - db.session - INFO - Database tables created successfully
2025-05-01 23:37:05,746 - __main__ - INFO - Creating FastAPI application...
2025-05-01 23:37:05,856 - __main__ - INFO - Starting server on 127.0.0.1:8080 (debug=False)...
2025-05-01 23:37:44,294 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 23:37:44,298 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 23:37:44,298 - api.services.attack_path_service - WARNING - No entry points identified via heuristics – falling back to primary component as entry point
2025-05-01 23:41:49,526 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 23:41:49,528 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-01 23:41:49,528 - api.services.attack_path_service - WARNING - No entry points identified via heuristics – falling back to primary component as entry point
2025-05-01 23:44:59,140 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 23:44:59,158 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 23:47:07,572 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 23:47:07,574 - api.services.attack_path_service - INFO - Analysis context: 1 assumptions, 1 constraints, 5 threat scenarios, 3 vulnerabilities
2025-05-01 23:52:28,256 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 23:52:32,047 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 23:52:38,861 - api.routes.scope - INFO - Found 1 scopes
2025-05-01 23:53:26,556 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 23:53:26,557 - api.services.attack_path_service - INFO - Analysis context: 3 assumptions, 3 constraints, 5 threat scenarios, 4 vulnerabilities
2025-05-01 23:58:35,578 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS001
2025-05-01 23:58:35,580 - api.services.attack_path_service - INFO - Analysis context: 2 assumptions, 2 constraints, 5 threat scenarios, 4 vulnerabilities
2025-05-01 23:58:35,582 - api.routes.attack_path - ERROR - Error generating attack paths: source node BMS002 not in graph
2025-05-02 00:00:37,151 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-02 00:00:37,153 - api.services.attack_path_service - INFO - Analysis context: 2 assumptions, 2 constraints, 5 threat scenarios, 4 vulnerabilities
2025-05-02 00:00:52,024 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:00:54,171 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:19,968 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:32,040 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:32,067 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:34,720 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:37,922 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:37,927 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:02:38,959 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:03:51,372 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: BMS002
2025-05-02 00:03:51,373 - api.services.attack_path_service - INFO - Analysis context: 2 assumptions, 2 constraints, 5 threat scenarios, 5 vulnerabilities
2025-05-02 00:03:51,375 - api.routes.attack_path - ERROR - Error generating attack paths: source node BMS002 not in graph
2025-05-02 00:05:47,702 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:05:49,383 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:07:27,276 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:11:26,675 - api.services.attack_path_service - INFO - Generating attack paths for 2 components, primary component: ECU_BRK01
2025-05-02 00:11:26,677 - api.services.attack_path_service - INFO - Analysis context: 0 assumptions, 0 constraints, 0 threat scenarios, 0 vulnerabilities
2025-05-02 00:11:37,497 - api.routes.scope - INFO - Found 1 scopes
2025-05-02 00:11:37,514 - api.routes.scope - INFO - Found 1 scopes
